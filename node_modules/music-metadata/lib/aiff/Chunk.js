"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var assert = require("assert");
var FourCC_1 = require("../common/FourCC");
/**
 * Common AIFF chunk header
 */
exports.Header = {
    len: 8,
    get: function (buf, off) {
        return {
            // Group-ID
            chunkID: FourCC_1.FourCcToken.get(buf, off),
            // Size
            size: buf.readUInt32BE(off + 4)
        };
    }
};
var Common = /** @class */ (function () {
    function Common(header) {
        assert.ok(header.size >= 18, "chunkSize should always be at least 18");
        this.len = header.size;
    }
    Common.prototype.get = function (buf, off) {
        return {
            numChannels: buf.readUInt16BE(off),
            numSampleFrames: buf.readUInt32BE(off + 2),
            sampleSize: buf.readUInt16BE(off + 6),
            // see: https://cycling74.com/forums/aiffs-80-bit-sample-rate-value
            sampleRate: buf.readUInt16BE(off + 8 + 2)
        };
    };
    return Common;
}());
exports.Common = Common;
